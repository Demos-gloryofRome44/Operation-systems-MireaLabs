# Межпроцессное взаимодействие

## Описание задания

Задание состоит из двух частей, демонстрирующих различные механизмы межпроцессного взаимодействия в операционных системах.

### Часть 1: Использование pipe и fork
**Цель:** Создать неименованный канал (pipe) и организовать обмен данными между родительским и дочерним процессами.

**Требования:**
- Создать pipe для однонаправленной передачи данных
- Создать дочерний процесс с помощью fork()
- Родительский процесс должен передать строку, содержащую:
  - Текущее время родительского процесса
  - PID родительского процесса
- Дочерний процесс должен:
  - Принять строку через pipe
  - Вывести на экран полученную строку
  - Вывести собственное текущее время
- Разница во времени между родительским и дочерним процессами должна составлять не менее 5 секунд

### Часть 2: Использование FIFO и отдельных процессов  
**Цель:** Организовать обмен данными между двумя независимыми процессами через именованный канал (FIFO).

**Требования:**
- Использовать именованный канал (FIFO) вместо pipe
- Использовать два отдельных независимых процесса вместо fork()
- Процесс-отправитель должен передать строку, содержащую:
  - Текущее время отправителя
  - PID отправителя
- Процесс-получатель должен:
  - Принять строку через FIFO
  - Вывести на экран полученную строку
  - Вывести собственное текущее время
- Разница во времени между процессами должна составлять не менее 10 секунд
- Процессы должны быть полностью независимыми и запускаться отдельно

## Компиляция и запуск

### Компиляция всех программ:

### Запуск части 1 (pipe + fork):
```bash
make check_pipe
```
или
```bash
./pipe_program
```

### Запуск части 2 (FIFO + отдельные процессы):
```bash
make check_fifo
```

**Вручную (лучше в двух разных терминалах)**
```bash
# Терминал 1 - запуск получателя
./consumer

# Терминал 2 - запуск отправителя
./producer
```

## Ожидаемый вывод

### Для части 1 (pipe_program):
```
Родитель (PID: 1234) отправил данные и ожидает...

=== Дочерний процесс (PID: 1235) ===
Сообщение: Сообщение от родителя (PID: 1234)
Время отправки: 2024-01-15 14:30:25
Локальное время: 2024-01-15 14:30:30
```

### Для части 2 (producer + consumer):
**producer:**
```
Отправитель (PID: 2345) начал работу
Ожидаем подключения получателя...
Отправляем данные (время: 2024-01-15 14:31:10)...
Отправитель завершил передачу данных...
```

**consumer:**
```
Получатель (PID: 2346) запущен и ожидает данные...
Создан FIFO /tmp/myfifo
Ожидаем данные от отправителя...
Получены данные. Ждем 10 секунд...

=== Получатель (PID: 2346) ===
Сообщение: Данные от отправителя (PID: 2345)
Время отправки: 2024-01-15 14:31:10
Время получения данных: 2024-01-15 14:31:11
Локальное время: 2024-01-15 14:31:21
Разница во времени: 10 секунд
```


## Проверка работоспособности

### Критерии успешного выполнения:

**Для части 1:**
- [x] Программа компилируется без ошибок
- [x] Создается pipe и дочерний процесс
- [x] Данные корректно передаются через pipe
- [x] Выводится разница во времени ≥5 секунд
- [x] PID процессов различаются

**Для части 2:**
- [x] Обе программы компилируются без ошибок
- [x] FIFO создается и удаляется корректно
- [x] Данные передаются между независимыми процессами
- [x] Выводится разница во времени ≥10 секунд
- [x] Процессы можно запускать в любом порядке

## Теория

### Pipe (неименованный канал):
- Односторонний канал связи
- Существует только во время выполнения процессов
- Используется для связи между родственными процессами
- Ограниченный размер буфера

### FIFO (именованный канал):
- Существует как файл в файловой системе
- Может использоваться независимыми процессами
- Сохраняется до явного удаления
- Поддерживает несколько читателей/писателей

### Fork():
- Создает точную копию процесса-родителя
- Дочерний процесс наследует открытые файловые дескрипторы
- Различия: PID, PPID, ненаследуемые блокировки файлов
